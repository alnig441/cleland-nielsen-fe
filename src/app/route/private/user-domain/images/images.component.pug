span(*ngIf="!this.mongoImageService.message.failure")
    div
      div(class='image-menu')
        p((click)='this.openEditor()' type='button' class='btn btn-info btn-xs')
          span(class='glyphicon glyphicon-search' aria-hidden='true')
        p(*ngIf='this.activeUser.isAdmin' type='button' data-toggle='modal' class='btn btn-info btn-xs' data-target='.editor-modal')
          span(class='glyphicon glyphicon-pencil' aria-hidden='true')
      div(*ngFor='let month of this.months as months; index as i' class='month {{month | monthTransform}}', [ngClass]="{'active': month == this.albumViewSelector.month}")
          a(*ngIf="month != null", (click)='setAlbumView(month)') {{ { name: month, language: this.activeUser.language } | monthTransform }}
      div(class='reel-container {{ year }}')
          ul(class='year')
              li(*ngFor='let year of this.years as years; index as m', [ngClass]="{'active': year == this.albumViewSelector.year}")
                  a((click)='setAlbumView(year)') {{ year }}
          ul(*ngIf="this.pages > 1" class='paginator')
              li(*ngIf='this.currentPage > 1', (click)="this.turnAlbumPage('rewind')" class='rewind')
                  span(class='glyphicon glyphicon-triangle-left')
              li(*ngIf="this.currentPage != this.pages", (click)="this.turnAlbumPage('forward')" class='forward')
                  span(class='glyphicon glyphicon-triangle-right')
                    
          div(*ngFor='let document of this.documents as documents; index as j' class='image-container')
              span(*infobox='this.showImageInformation[j]' class='infobox row')
                ng-container
                  div(class='info-key col-sm-4')
                    p(*ngIf='document.who') Who:
                    p Where:
                  div(class='info-value col-sm-8')
                    p {{document.who}}
                    p {{document.where}}
              div(data-toggle='modal' class="thumbnail" data-target-not='.assetviewer-modal' id="{{document._id}}")
                  img((click)='this.openModal(document._id)' src="photos/photoapp/{{document.image.fileName | extTransform}}")
                  div(class='caption')
                      table
                          tr
                              td
                                  p {{ {name: document.date.day, language: this.activeUser.language } | dayTransform }}&nbsp;{{ { name: document.date.month, language: this.activeUser.language } | monthTransform}}
                              td
                                  p((mouseenter)="this.setImageInfo(j)", (mouseleave)="this.setImageInfo()")
                                      span(class="glyphicon glyphicon-info-sign" aria-hidden="true")
                              td
                                  p {{(j + 1) + ((this.currentPage - 1) * 6)}} of {{this.total}}
                                  
                                  
div(*imageEditor='this.editImages' id='image-editor')
  div(class='row')
    div(*ngFor='let document of this.editImages as documents; index as i' class='col-md-6')
      label(for='{{ i }}') image# {{ i + 1 }}
      div(class='image-list')
        span(class='input-group-addon')
          input(id='{{ i }}' type='checkbox' aria-label='fileId' value='{{ document._id }}')
        p(class='form-control') {{ document.image.fileName }}
    div(class='col-md-6')
      span(*ngFor='let property of this.editImages.form as properties')
        div(*ngIf='property == "names" || property == "keywords" || property == "venue" || property == "occasion" || property =="en" || property == "da"' class='form-group')
          label(for='{{ property }}') {{ property }}
          input(id='{{ property }}' type='text' class='form-control' placeholder='{{ property }}')
    div(class='buttons')
      button((click)='this.clearEditor()' type='submit') cancel
      button(type='submit') submit
  div(class='row background')

div(class='modal fade editor-modal' tabindex='-1' role='dialog' aria-labelledby='editorModal')
  div(class='modal-dialog')
    div(class='modal-content')
      div(class='modal-header')
        h4(class='modal-title') asset editor
      div(class='modal-body')
        div(class='row')
          div(class='col-md-6')
            form
              div(*ngFor='let document of this.documents as documents' class='input-group')
                span(class='input-group-addon')
                  input(type='checkbox' aria-label='filename' value='{{ document._id }}')
                p(class='form-control') {{ document.image.fileName }}
          div(class='col-md-6')
            form
              div(*ngFor="let property of this.formManager.getProperties() as properties" class='form-group')
                span(*ngIf="property == 'names' || property == 'keywords' || property == 'occasion' || property =='venue' || property == 'en' || property == 'da'")
                  span(class="input-group-addon" id="basic-addon3") {{ property }}
                  input(type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3")
              button(type='submit' class='btn btn-default') submit

div(class='modal fade assetviewer-modal' tabindex='1' role='dialog' aria-labelledby='assetviewerModal')
  div(class='modal-image-container')
    span(class='modal-image-overlay-positioner')
      img(*modalImage="this.albumViewSelector['selectedIndex'] || this.albumViewSelector['selectedIndex'] == 0" class="modal-image" src="photos/James/{{this.documents[this.albumViewSelector['selectedIndex']]['image']['fileName']}}" id="{{this.documents[this.albumViewSelector['selectedIndex']]['_id']}}")
      ul(class="modal-image-overlay")
        li((click)="this.flipThroughImages('previous')" class="button-left")
          span(class="glyphicon glyphicon-step-backward") &nbsp; 
          | {{ { name: 'rwd', language: this.activeUser.language } | btnTransform }}
        li((click)="this.flipThroughImages('next')" class="button-right") 
          | {{ { name: 'fwd', language: this.activeUser.language } | btnTransform}} 
          | &nbsp;
          span(class="glyphicon glyphicon-step-forward")
      ul(class="modal-image-overlay-menu")
        li(onclick="window.print(); return null;" class='button-left')
          span(class='glyphicon glyphicon-print') &nbsp;
          | {{ { name: 'print', language: this.activeUser.language } | btnTransform }}
        li((click)="this.cancelModal()" class='button-left')
          span(class='glyphicon glyphicon-remove') &nbsp;
          | {{ { name: 'close', language: this.activeUser.language } | btnTransform }}
      
          
